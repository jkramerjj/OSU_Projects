<!DOCTYPE html>
<html>
<head>
<title>Node.js - Asynchronous</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="assets/css/resets.css">
<link rel="stylesheet" type="text/css" href="assets/css/styles.css">
<!--The following script tag downloads a font from the Adobe Edge Web Fonts server for use within the web page. We recommend that you do not modify it.-->
<script>var __adobewebfontsappname__="dreamweaver"</script>
<script src="http://use.edgefonts.net/source-code-pro:n2:default.js" type="text/javascript"></script>
</head>
<body>
<div class="master">
  <header>
    <h1>Node.js -- From Install to Asynchronization</h1>
    <h3>By: Joseph Kramer</h3>
    <h3>CS290 -- Project 5 &quot;How-To&quot;</h3>
  </header>
  <div class="navbar">
    <ul>
      <li class ="nav-content" > <a href="index.html">Introduction</a> </li>
      <li class ="nav-content"> <a href="install_node.html">How To Install</a> </li>
      <li class ="nav-content"> <a href="verify_node.html">Verify Installation</a></li>
      <li class="nav-content"> <a href="hello_world.html">"Hello World"</a> </li>
      <li class ="nav-content"> <a href="process_arguments.html">Passing Arguments</a> </li>
      <li class ="nav-content"> <a href="synchronous.html">Synchronous File Read In</a> </li>
      <li class ="nav-content"> <a href="asynchronous.html">Asynchronous File Read In</a> </li>
    </ul>
  </div>
  <div class="main_1">
    <h2  class="back_up">Background on what's happening here</h2>
    <p>First off. Welcome to the big boys league. After this you will have the power of Node.js at your keyboard finger tips.</p>
    <p>Asynchronous, gives you the power to work on one task while another task completes or vice versa.  Gone are the days of waiting for one process to complete, such as streaming a file, and then moving onto the next task. </p>
    <p>Here is a real world analogy: <br>
      Synchronous: <br>
      Lets say you went to a farmers market to pick out some berries. There is a line of people behind you and when you walk up to purchase some berries, the cashier drops everything, walks out to the field and starts picking berries, they do not return to talk to or interact with anyone else, until the task is complete. <br>
      Does this seems like good business practice?</p>
    <p>Asynchronous: <br>
      Now the same cashier takes your order. Right after taking your order, she takes the order of the person behind and you wait for your berries to be picked. And the cycle repeats the person after you waits for their berries to be picked. Once your berries are picked they are given to you and now you're on your merry way. <br>
      <br>
      This concept is fundamental to programming with Node.js. There is no more waiting around and blocking other patrons at the farmers market, now everyone can get helped and this is done through what is called a "callback function."</p>
    <p>
    <pre><code>fs.readFile(process.argv[2], callback(err, data));</code></pre>
    Now because it's JavaScript we can turn the callback into an anonymous function. So it would look something like this:
    <pre><code>fs.readFile(process.argv[2], function(err, data) {
   some more code here
});</code></pre>
   
    <h2>Lets repeat the last tutorial, but this time do it asynchronously </h2>
    <p><span class="bigIt">1</span>) Use the same
    <pre><code>test.txt </code></pre>
    as before and create a
    <pre><code>vasyn_io.js</code></pre>
    file for this tutorial.
    <p><span class="bigIt">2)</span> Now this time we are going to utilize the callback function
    <pre><code>var fs = require('fs');

fs.readFile(process.argv[2], function(err, data) {
	if (err)
		console.log(err);
		
	var stringIt = data.toString();
	var splitIt = stringIt.split('\n');
	var lengthIt = splitIt.length - 1;
	console.log(lengthIt);	
	 	
});</code></pre>
    <p><span class="bigIt">3</span>) If everything went well you should see something like this:<br>
      <br>
      <img src="assets/imgs/asycn_io_pic.png" width="600" height="361" alt=""/> </p>
    <p>As you can see, the internal logic of counting strings is similar to the synchronous method, however while this function is being ran, other functions can complete before it. **Remember the farmers market example **</p>
    <h2>The End</h2>
    <p>That ends the tutorial. I hope you found it very informative. </p>
  </div>
</div>
</body>
</html>
